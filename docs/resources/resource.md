---
page_title: "msgraph_resource Resource - terraform-provider-msgraph"
subcategory: ""
description: |-
  This resource can manage any Microsoft Graph API resource.
---

# msgraph_resource (Resource)

This resource can manage any Microsoft Graph API resource.

## Example Usage

 ```terraform
 terraform {
   required_providers {
     msgraph = {
       source = "Microsoft/msgraph"
     }
   }
 }
 
 provider "msgraph" {
 }
 
 resource "msgraph_resource" "application" {
   url = "applications"
   body = {
     displayName = "My Application"
   }
   response_export_values = {
     all    = "@"
     app_id = "appId"
   }
 }
 
 output "app_id" {
   value = msgraph_resource.application.output.app_id
 }
 
 output "all" {
   // it will output the whole response
   value = msgraph_resource.application.output.all
 }
 ```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `url` (String) The URL which is used to manage the resource. It supports two types of URLs:  
  - Collection URL which is used to make a POST request to create a new resource, for example, "/users", it must support the following operations:
	- Create a new resource: POST "/users"
    - Read an existing resource: GET "/users/{id}"
    - Update an existing resource: PATCH "/users/{id}"
    - Delete an existing resource: DELETE "/users/{id} "
  - URL which has a "$ref" suffix, for example, "/groups/{group-id}/members/$ref", it must support the following operations:
	- Add a reference to a resource: POST "/groups/{group-id}/members/$ref"
	- Remove a reference to a resource: DELETE "/groups/{group-id}/members/{id}/$ref"
  
  More information about the Microsoft Graph API can be found at [Microsoft Graph API](https://docs.microsoft.com/en-us/graph/overview).  
  And there are some [examples](https://github.com/microsoft/terraform-provider-msgraph/tree/main/examples/quickstarts) to help you get started.

### Optional

- `api_version` (String) The API version of the data source. The allowed values are `v1.0` and `beta`. Defaults to `v1.0`.
- `body` (Dynamic) A dynamic attribute that contains the request body.
- `create_query_parameters` (Map of List of String) A mapping of query parameters to be sent with the create request.
- `delete_query_parameters` (Map of List of String) A mapping of query parameters to be sent with the delete request.
- `read_query_parameters` (Map of List of String) A mapping of query parameters to be sent with the read request.
- `response_export_values` (Map of String) A map where the key is the name for the result and the value is a JMESPath query string to filter the response. Here's an example. If it sets to `{"all" = "@", "app_id" = "appId"}`, it will set the following HCL object to the computed property output.

	```text
	{
		"all" = {
			"appId" = "00000000-0000-0000-0000-000000000000"
			"displayName" = "example"
			"id" = "00000000-0000-0000-0000-000000000000"
			...
		}
		"app_id" = "00000000-0000-0000-0000-000000000000"
	}
	```

To learn more about JMESPath, visit [JMESPath](https://jmespath.org/).
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `update_query_parameters` (Map of List of String) A mapping of query parameters to be sent with the update request.

### Read-Only

- `id` (String) The ID of the resource. Normally, it is in the format of UUID.
- `output` (Dynamic) The output HCL object containing the properties specified in `response_export_values`. Here are some examples to use the values.

	```terraform
	 output "app_id" {
	   // it will output the value of app_id
	   value = msgraph_resource.application.output.app_id
	 }
	 
	 output "all" {
	   // it will output the whole response
	   value = msgraph_resource.application.output.all
	 }
	```

<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).

## Import

 ```shell
 # MSGraph resource can be imported using the resource id, e.g.
 terraform import msgraph_resource.servicePrincipal /servicePrincipals/00000000-0000-0000-0000-000000000000
 terraform import msgraph_resource.member /groups/group-id/members/$ref/00000000-0000-0000-0000-000000000000
 ```
