---
page_title: "msgraph_update_resource Resource - terraform-provider-msgraph"
subcategory: ""
description: |-
  This resource can manage a subset of any existing Microsoft Graph resource's properties.
  -> Note This resource is used to add or modify properties on an existing resource. When msgraph_update_resource is deleted, no operation will be performed, and these properties will stay unchanged. If you want to restore the modified properties to some values, you must apply the restored properties before deleting.
---

# msgraph_update_resource (Resource)

This resource can manage a subset of any existing Microsoft Graph resource's properties.

-> **Note** This resource is used to add or modify properties on an existing resource. When `msgraph_update_resource` is deleted, no operation will be performed, and these properties will stay unchanged. If you want to restore the modified properties to some values, you must apply the restored properties before deleting.

## Example Usage

 ```terraform
 terraform {
   required_providers {
     msgraph = {
       source = "Microsoft/msgraph"
     }
   }
 }
 
 provider "msgraph" {}
 
 # This example creates an application first (so we have something to update),
 # then uses msgraph_update_resource to PATCH its displayName.
 
 resource "msgraph_resource" "application" {
   url = "applications"
   body = {
     displayName = "Demo App"
   }
 
   # We ignore the displayName change here because the update is handled by
   # the separate msgraph_update_resource below.
   lifecycle {
     ignore_changes = [body.displayName]
   }
 }
 
 resource "msgraph_update_resource" "application_update" {
   # Point directly at the item URL you want to PATCH
   url = "applications/${msgraph_resource.application.id}"
 
   body = {
     displayName = "Demo App Updated"
   }
 }
 ```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `url` (String) The item URL of the existing resource to update, for example "/users/{id}".

	This resource performs PATCH requests against the item URL and expects the following operations to be supported by the API endpoint:
		- Read an existing resource: GET "/users/{id}"
		- Update an existing resource: PATCH "/users/{id}"

	More information about the Microsoft Graph API can be found at [Microsoft Graph API](https://docs.microsoft.com/en-us/graph/overview).  
	There are also [examples](https://github.com/microsoft/terraform-provider-msgraph/tree/main/examples/quickstarts) to help you get started.

### Optional

- `api_version` (String) The API version of the data source. The allowed values are `v1.0` and `beta`. Defaults to `v1.0`.
- `body` (Dynamic) A dynamic attribute that contains the request body.
- `ignore_missing_property` (Boolean) Whether ignore not returned properties like credentials in `body` to suppress plan-diff. Defaults to `true`. It's recommend to enable this option when some sensitive properties are not returned in response body, instead of setting them in `lifecycle.ignore_changes` because it will make the sensitive fields unable to update.
- `read_query_parameters` (Map of List of String) A mapping of query parameters to be sent with the read request.
- `response_export_values` (Map of String) A map where the key is the name for the result and the value is a JMESPath query string to filter the response. Here's an example. If it sets to `{"all" = "@", "app_id" = "appId"}`, it will set the following HCL object to the computed property output.

	```text
	{
		"all" = {
			"appId" = "00000000-0000-0000-0000-000000000000"
			"displayName" = "example"
			"id" = "00000000-0000-0000-0000-000000000000"
			...
		}
		"app_id" = "00000000-0000-0000-0000-000000000000"
	}
	```

To learn more about JMESPath, visit [JMESPath](https://jmespath.org/).
- `retry` (Attributes) The retry object supports the following attributes: (see [below for nested schema](#nestedatt--retry))
- `timeouts` (Block, Optional) (see [below for nested schema](#nestedblock--timeouts))
- `update_query_parameters` (Map of List of String) A mapping of query parameters to be sent with the update request.

### Read-Only

- `id` (String) The ID of the resource. Normally, it is in the format of UUID.
- `output` (Dynamic) The output HCL object containing the properties specified in `response_export_values`. Here are some examples to use the values.

	```terraform
	 output "app_id" {
	   // it will output the value of app_id
	   value = msgraph_resource.application.output.app_id
	 }
	 
	 output "all" {
	   // it will output the whole response
	   value = msgraph_resource.application.output.all
	 }
	```

<a id="nestedatt--retry"></a>
### Nested Schema for `retry`

Required:

- `error_message_regex` (List of String) A list of regular expressions to match against error messages. If any of the regular expressions match, the request will be retried.


<a id="nestedblock--timeouts"></a>
### Nested Schema for `timeouts`

Optional:

- `create` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).
- `delete` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Setting a timeout for a Delete operation is only applicable if changes are saved into state before the destroy operation occurs.
- `read` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours). Read operations occur during any refresh or planning operation when refresh is enabled.
- `update` (String) A string that can be [parsed as a duration](https://pkg.go.dev/time#ParseDuration) consisting of numbers and unit suffixes, such as "30s" or "2h45m". Valid time units are "s" (seconds), "m" (minutes), "h" (hours).


